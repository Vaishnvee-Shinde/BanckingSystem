awk 'NR==FNR && FNR==2 {count[FILENAME]=$0; next} {data[$1]=data[$1]"\t"count[FILENAME]":"$2} END {for (key in data) print key, (data[key] != "") ? data[key] : "0"}' a.txt b.txt > aligned_records.txt





